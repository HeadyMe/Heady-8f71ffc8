# HEADY_BRAND:BEGIN
# ╔══════════════════════════════════════════════════════════════════╗
# ║  ██╗  ██╗███████╗ █████╗ ██████╗ ██╗   ██╗                     ║
# ║  ██║  ██║██╔════╝██╔══██╗██╔══██╗╚██╗ ██╔╝                     ║
# ║  ███████║█████╗  ███████║██║  ██║ ╚████╔╝                      ║
# ║  ██╔══██║██╔══╝  ██╔══██║██║  ██║  ╚██╔╝                       ║
# ║  ██║  ██║███████╗██║  ██║██████╔╝   ██║                        ║
# ║  ╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝╚═════╝    ╚═╝                        ║
# ║                                                                  ║
# ║  ∞ SACRED GEOMETRY ∞  Organic Systems · Breathing Interfaces    ║
# ║  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  ║
# ║  FILE: configs/domain-architecture.yaml                                                    ║
# ║  LAYER: config                                                  ║
# ╚══════════════════════════════════════════════════════════════════╝
# HEADY_BRAND:END
# Heady Systems Domain Architecture
# Production-ready domain mapping and brand structure

version: "2.0"
created: "2025-02-08"
purpose: "Canonical domain architecture for Heady ecosystem"

# Core brand architecture
brands:
  nonprofit:
    primary: "HeadyConnection.org"
    description: "Parent nonprofit brand, governance, impact reporting"
    tagline: "AI for social impact and global happiness"
    
  commercial:
    primary: "HeadySystems.com"
    description: "Commercial hub, products, APIs, infrastructure"
    tagline: "Enterprise AI infrastructure and tools"
    
  program:
    name: "HeadyBuddy"
    domain: "HeadyBuddy.org"
    description: "Peer support and buddy program"
    relationship: "A program of HeadyConnection"
    tagline: "Peer support for AI-powered social impact"

# Domain hierarchy and routing
domains:
  # Primary production domains
  production:
    - domain: "headyconnection.org"
      type: "nonprofit"
      purpose: "Main nonprofit site, governance, impact"
      ssl: "required"
      redirects: []
      
    - domain: "www.headyconnection.org"
      type: "redirect"
      purpose: "WWW redirect to main domain"
      target: "headyconnection.org"
      
    - domain: "headysystems.com"
      type: "commercial"
      purpose: "Commercial products and APIs"
      ssl: "required"
      redirects: []
      
    - domain: "www.headysystems.com"
      type: "redirect"
      purpose: "WWW redirect to main domain"
      target: "headysystems.com"
      
    - domain: "headybuddy.org"
      type: "program"
      purpose: "Peer support program site"
      ssl: "required"
      redirects: []
      branding: "Powered by HeadyConnection"
      
    - domain: "www.headybuddy.org"
      type: "redirect"
      purpose: "WWW redirect to main domain"
      target: "headybuddy.org"

  # API subdomains
  apis:
    - domain: "api.headysystems.com"
      backend: "localhost:8000"
      purpose: "Main API endpoint"
      auth: "JWT"
      
    - domain: "app.headysystems.com"
      backend: "localhost:3000"
      purpose: "Web application frontend"
      
    - domain: "admin.headysystems.com"
      backend: "localhost:3001"
      purpose: "Admin dashboard"
      auth: "Basic + JWT"
      
    - domain: "api.headyconnection.org"
      backend: "localhost:8001"
      purpose: "Nonprofit API endpoints"
      auth: "API Key"
      
    - domain: "app.headyconnection.org"
      backend: "localhost:3002"
      purpose: "Nonprofit application frontend"

  # Development and staging
  development:
    - domain: "dev.headysystems.com"
      backend: "localhost:3000"
      purpose: "Development environment"
      ssl: "self-signed"
      
    - domain: "staging.headysystems.com"
      backend: "staging-backend:8000"
      purpose: "Staging environment"
      ssl: "required"

# Local development domains (mapped to 127.0.0.1)
local_domains:
  - "app.heady.local"
  - "api.heady.local"
  - "admin.heady.local"
  - "buddy.heady.local"
  - "connection.heady.local"
  - "systems.heady.local"

# Domain policies
policies:
  no_localhost:
    description: "Never expose localhost or internal IPs in user-facing content"
    applies_to: ["docs", "configs", "examples", "screenshots", "error_messages"]
    
  https_everywhere:
    description: "All production domains must use HTTPS with valid certificates"
    applies_to: ["production", "apis"]
    
  security_headers:
    description: "All domains must include security headers via Nginx"
    headers:
      - "Strict-Transport-Security"
      - "Content-Security-Policy"
      - "X-Frame-Options"
      - "X-Content-Type-Options"
      - "Referrer-Policy"
      - "Permissions-Policy"

# OAuth callback URLs (standardized)
oauth_callbacks:
  production:
    - "https://app.headysystems.com/oauth/callback"
    - "https://app.headyconnection.org/oauth/callback"
    - "https://headybuddy.org/oauth/callback"
    
  development:
    - "https://app.heady.local/oauth/callback"
    - "https://api.heady.local/oauth/callback"

# Redirect rules for legacy/unused domains
redirects:
  # Legacy domains to redirect
  legacy:
    - from: "heady.io"
      to: "headysystems.com"
      type: "301"
      
    - from: "heady.ai"
      to: "headysystems.com"
      type: "301"
      
    - from: "heady.tech"
      to: "headysystems.com"
      type: "301"

# CDN and static assets
cdn:
  primary: "cdn.headysystems.com"
  purpose: "Static assets, images, JavaScript, CSS"
  domains:
    - "assets.headysystems.com"
    - "static.headyconnection.org"

# Email domains
email:
  commercial:
    - "headysystems.com"
    - "noreply.headysystems.com"
    
  nonprofit:
    - "headyconnection.org"
    - "noreply.headyconnection.org"
    
  program:
    - "headybuddy.org"
    - "hello@headybuddy.org"

# Monitoring and analytics domains
monitoring:
  - "status.headysystems.com"
  - "analytics.headyconnection.org"
  - "health.headybuddy.org"
