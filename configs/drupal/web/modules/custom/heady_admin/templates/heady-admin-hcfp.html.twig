{# HCFP Policy Management Template #}
<div class="heady-admin-wrapper">
  <nav class="heady-admin-nav">
    <div class="heady-admin-logo"><span class="heady-admin-logo-icon">ğŸŒŸ</span><span>Heady Admin</span></div>
    <div class="heady-admin-tabs">
      <a href="{{ path('heady_admin.dashboard') }}" class="heady-tab">ğŸ“Š Dashboard</a>
      <a href="{{ path('heady_admin.services') }}" class="heady-tab">ğŸ”Œ Services</a>
      <a href="{{ path('heady_admin.hcfp') }}" class="heady-tab active">ğŸ›¡ï¸ HCFP</a>
      <a href="{{ path('heady_admin.headylens') }}" class="heady-tab">ğŸ”­ HeadyLens</a>
      <a href="{{ path('heady_admin.customize') }}" class="heady-tab">ğŸ¨ Customize</a>
      <a href="{{ path('heady_admin.access_control') }}" class="heady-tab">ğŸ‘¥ Access</a>
      <a href="{{ path('heady_admin.settings') }}" class="heady-tab">âš™ï¸ Settings</a>
    </div>
  </nav>

  <div class="heady-dashboard-grid">
    <div class="heady-card"><div class="heady-card-header"><div><div class="heady-stat-label">HCFP Mode</div><div class="heady-stat-value" style="font-size:1.1rem">{{ hcfp.mode }}</div></div><div class="heady-card-icon icon-green">ğŸ›¡ï¸</div></div></div>
    <div class="heady-card"><div class="heady-card-header"><div><div class="heady-stat-label">Auto-Success</div><div class="heady-stat-value">{{ hcfp.auto_success ? 'âœ… ON' : 'âŒ OFF' }}</div></div><div class="heady-card-icon icon-blue">ğŸ¯</div></div></div>
    <div class="heady-card"><div class="heady-card-header"><div><div class="heady-stat-label">HeadyBattle</div><div class="heady-stat-value">{{ hcfp.headybattle_mode|capitalize }}</div></div><div class="heady-card-icon icon-yellow">âš”ï¸</div></div></div>
    <div class="heady-card"><div class="heady-card-header"><div><div class="heady-stat-label">Sessions</div><div class="heady-stat-value">{{ hcfp.headybattle_sessions }}</div></div><div class="heady-card-icon icon-red">ğŸ“‹</div></div></div>
  </div>

  <div class="heady-section">
    <h2 class="heady-section-title">Active Policies</h2>
    <div class="heady-hcfp-grid">
      {% for policy in hcfp.policies %}
        <div class="heady-policy-card">
          <h4>{{ policy.name }}</h4>
          <p style="color:#94a3b8;font-size:0.85rem;margin:0.5rem 0;">Type: {{ policy.type }}</p>
          <span class="heady-policy-status policy-{{ policy.status }}">â— {{ policy.status|capitalize }}</span>
          <div style="margin-top:0.75rem;">
            <button class="heady-btn heady-btn-sm heady-btn-secondary">Edit</button>
            <button class="heady-btn heady-btn-sm heady-btn-danger">Disable</button>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>

  <div class="heady-section">
    <h2 class="heady-section-title">Communication Chain Latency</h2>
    <div class="heady-table-container">
      <table>
        <thead><tr><th>Hop</th><th>Latency</th></tr></thead>
        <tbody>
          {% for hop, latency in hcfp.communication_chain %}
            <tr><td>{{ hop|replace({'_': ' â†’ '}) }}</td><td>{{ latency }}</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
<script src="https://headybuddy.org/headybuddy-widget.js"></script>
