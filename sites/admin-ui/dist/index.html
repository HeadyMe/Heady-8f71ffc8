<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Heady Admin ‚Äî System Control Panel</title>
    <meta name="description"
        content="Heady Admin Dashboard ‚Äî Monitor and manage all Heady Systems services, AI nodes, and infrastructure.">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box
        }

        :root {
            --primary: #7c3aed;
            --primary-light: #a78bfa;
            --accent: #06b6d4;
            --accent2: #ec4899;
            --bg: #050510;
            --surface: rgba(12, 12, 34, .85);
            --surface2: rgba(20, 20, 58, .6);
            --glass: rgba(124, 58, 237, .06);
            --glass-border: rgba(124, 58, 237, .15);
            --border: rgba(124, 58, 237, .12);
            --text: #e0e0ff;
            --dim: #6b7280;
            --white: #fff;
            --success: #22c55e;
            --warning: #f59e0b;
            --error: #ef4444;
            --soul: 61.8%;
            --skeleton: 38.2%;
            --glow-primary: 0 0 30px rgba(124, 58, 237, .25);
            --glow-accent: 0 0 20px rgba(6, 182, 212, .2)
        }

        body {
            background: var(--bg);
            color: var(--text);
            font-family: 'Inter', system-ui, sans-serif;
            overflow-x: hidden
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(ellipse at 20% 20%, rgba(124, 58, 237, .08) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(6, 182, 212, .06) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0
        }

        a {
            color: inherit;
            text-decoration: none
        }

        /* ‚îÄ‚îÄ‚îÄ Layout ‚îÄ‚îÄ‚îÄ */
        .app {
            display: grid;
            grid-template-columns: 64px 1fr;
            min-height: 100vh;
            position: relative;
            z-index: 1
        }

        .rail {
            background: rgba(12, 12, 34, .95);
            border-right: 1px solid var(--glass-border);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 0;
            gap: 4px;
            backdrop-filter: blur(20px)
        }

        .rail .logo {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            font-weight: 900;
            margin-bottom: 16px;
            box-shadow: var(--glow-primary);
            color: var(--white)
        }

        .rail-link {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            color: var(--dim);
            transition: all .25s ease;
            cursor: pointer;
            position: relative
        }

        .rail-link:hover {
            background: rgba(124, 58, 237, .15);
            color: var(--white);
            transform: scale(1.1)
        }

        .rail-link.active {
            background: rgba(124, 58, 237, .2);
            color: var(--white)
        }

        .rail-link.active::before {
            content: '';
            position: absolute;
            left: -1px;
            top: 8px;
            bottom: 8px;
            width: 3px;
            border-radius: 0 3px 3px 0;
            background: var(--primary)
        }

        .rail-sep {
            width: 24px;
            height: 1px;
            background: var(--glass-border);
            margin: 8px 0
        }

        .content {
            padding: 28px 36px;
            overflow-y: auto;
            max-height: 100vh
        }

        /* ‚îÄ‚îÄ‚îÄ Header ‚îÄ‚îÄ‚îÄ */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 28px
        }

        .header-left h1 {
            font-size: 1.6rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--white), var(--primary-light));
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent
        }

        .header-left .subtitle {
            font-size: .78rem;
            color: var(--dim);
            margin-top: 2px
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 16px
        }

        .system-pulse {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: .82rem;
            font-weight: 600;
            padding: 8px 16px;
            border-radius: 10px;
            background: rgba(34, 197, 94, .08);
            border: 1px solid rgba(34, 197, 94, .2)
        }

        .pulse-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--success);
            animation: pulse 2s ease-in-out infinite;
            box-shadow: 0 0 8px rgba(34, 197, 94, .6)
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
                transform: scale(1)
            }

            50% {
                opacity: .5;
                transform: scale(.85)
            }
        }

        .golden-badge {
            font-size: .7rem;
            padding: 4px 10px;
            border-radius: 6px;
            font-weight: 700;
            background: linear-gradient(135deg, rgba(245, 158, 11, .15), rgba(236, 72, 153, .1));
            border: 1px solid rgba(245, 158, 11, .25);
            color: var(--warning);
            letter-spacing: .05em
        }

        /* ‚îÄ‚îÄ‚îÄ Narrative Pulse (Storytelling Engine) ‚îÄ‚îÄ‚îÄ */
        .narrative {
            background: var(--surface);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 20px 24px;
            margin-bottom: 24px;
            backdrop-filter: blur(12px);
            background-image: linear-gradient(135deg, rgba(124, 58, 237, .04), rgba(6, 182, 212, .02));
            position: relative;
            overflow: hidden
        }

        .narrative::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: var(--soul);
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: 2px
        }

        .narrative-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px
        }

        .narrative-title {
            font-size: .72rem;
            text-transform: uppercase;
            letter-spacing: .15em;
            color: var(--dim);
            display: flex;
            align-items: center;
            gap: 6px
        }

        .narrative-vibe {
            font-size: .7rem;
            padding: 3px 10px;
            border-radius: 20px;
            font-weight: 600
        }

        .vibe-trust {
            background: rgba(6, 182, 212, .12);
            color: var(--accent);
            border: 1px solid rgba(6, 182, 212, .2)
        }

        .narrative-body {
            font-size: .95rem;
            line-height: 1.6;
            color: rgba(224, 224, 255, .85);
            font-weight: 400
        }

        .narrative-body em {
            color: var(--primary-light);
            font-style: normal;
            font-weight: 600
        }

        /* ‚îÄ‚îÄ‚îÄ Metric Cards ‚îÄ‚îÄ‚îÄ */
        .metrics {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 14px;
            margin-bottom: 24px
        }

        .metric {
            background: var(--surface);
            border: 1px solid var(--glass-border);
            border-radius: 14px;
            padding: 18px 20px;
            backdrop-filter: blur(8px);
            transition: all .3s ease;
            position: relative;
            overflow: hidden
        }

        .metric:hover {
            border-color: rgba(124, 58, 237, .3);
            transform: translateY(-2px);
            box-shadow: var(--glow-primary)
        }

        .metric .label {
            font-size: .68rem;
            text-transform: uppercase;
            letter-spacing: .1em;
            color: var(--dim);
            margin-bottom: 6px
        }

        .metric .value {
            font-size: 1.6rem;
            font-weight: 800;
            font-family: 'JetBrains Mono', monospace
        }

        .metric .change {
            font-size: .72rem;
            margin-top: 4px;
            font-weight: 500
        }

        .metric .change.up {
            color: var(--success)
        }

        .metric .change.down {
            color: var(--error)
        }

        .metric .sparkline {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 30px;
            opacity: .3
        }

        .metric .sparkline svg {
            width: 100%;
            height: 100%
        }

        /* ‚îÄ‚îÄ‚îÄ Grid Layouts ‚îÄ‚îÄ‚îÄ */
        .grid-golden {
            display: grid;
            grid-template-columns: 61.8fr 38.2fr;
            gap: 18px;
            margin-bottom: 24px
        }

        .grid-half {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 18px;
            margin-bottom: 24px
        }

        .grid-thirds {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 18px;
            margin-bottom: 24px
        }

        /* ‚îÄ‚îÄ‚îÄ Panels ‚îÄ‚îÄ‚îÄ */
        .panel {
            background: var(--surface);
            border: 1px solid var(--glass-border);
            border-radius: 14px;
            overflow: hidden;
            backdrop-filter: blur(8px)
        }

        .panel-head {
            padding: 14px 20px;
            border-bottom: 1px solid var(--border);
            font-weight: 600;
            font-size: .85rem;
            display: flex;
            justify-content: space-between;
            align-items: center
        }

        .panel-head .badge {
            font-size: .68rem;
            padding: 3px 8px;
            border-radius: 6px;
            font-weight: 600;
            background: rgba(124, 58, 237, .12);
            color: var(--primary-light)
        }

        .panel-body {
            padding: 14px 20px
        }

        /* ‚îÄ‚îÄ‚îÄ Swarm Nodes ‚îÄ‚îÄ‚îÄ */
        .node-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px
        }

        .node-card {
            padding: 12px;
            border-radius: 10px;
            background: var(--surface2);
            border: 1px solid transparent;
            transition: all .3s ease;
            cursor: pointer;
            position: relative
        }

        .node-card:hover {
            border-color: var(--glass-border);
            transform: scale(1.02)
        }

        .node-card-top {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px
        }

        .node-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            flex-shrink: 0
        }

        .node-dot.active {
            box-shadow: 0 0 6px currentColor
        }

        .node-name {
            font-size: .78rem;
            font-weight: 600;
            flex: 1
        }

        .node-status-tag {
            font-size: .62rem;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: .05em
        }

        .node-status-tag.online {
            background: rgba(34, 197, 94, .12);
            color: var(--success)
        }

        .node-status-tag.idle {
            background: rgba(245, 158, 11, .12);
            color: var(--warning)
        }

        .node-role {
            font-size: .68rem;
            color: var(--dim);
            line-height: 1.3
        }

        .node-spark {
            height: 20px;
            margin-top: 6px;
            opacity: .5
        }

        .node-spark svg {
            width: 100%;
            height: 100%
        }

        /* ‚îÄ‚îÄ‚îÄ HITL Controls ‚îÄ‚îÄ‚îÄ */
        .hitl-section {
            margin-bottom: 24px
        }

        .hitl-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px
        }

        .hitl-title {
            font-size: .88rem;
            font-weight: 700
        }

        .hitl-mode {
            display: flex;
            gap: 6px
        }

        .hitl-mode-btn {
            font-size: .7rem;
            padding: 5px 12px;
            border-radius: 8px;
            border: 1px solid var(--glass-border);
            background: transparent;
            color: var(--dim);
            cursor: pointer;
            font-weight: 600;
            transition: all .2s
        }

        .hitl-mode-btn.active {
            background: rgba(124, 58, 237, .15);
            color: var(--primary-light);
            border-color: rgba(124, 58, 237, .3)
        }

        .hitl-mode-btn:hover {
            border-color: rgba(124, 58, 237, .3);
            color: var(--white)
        }

        .autonomy-slider {
            margin-top: 12px
        }

        .autonomy-track {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: var(--surface2);
            position: relative;
            overflow: hidden
        }

        .autonomy-fill {
            height: 100%;
            border-radius: 3px;
            background: linear-gradient(90deg, var(--success), var(--warning), var(--error));
            transition: width .5s ease
        }

        .autonomy-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 6px
        }

        .autonomy-labels span {
            font-size: .65rem;
            color: var(--dim)
        }

        /* ‚îÄ‚îÄ‚îÄ Pipeline ‚îÄ‚îÄ‚îÄ */
        .pipeline-stages {
            display: flex;
            gap: 4px;
            align-items: stretch
        }

        .pipeline-stage {
            flex: 1;
            padding: 12px;
            border-radius: 8px;
            background: var(--surface2);
            text-align: center;
            position: relative;
            transition: all .3s
        }

        .pipeline-stage::after {
            content: '‚Üí';
            position: absolute;
            right: -10px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--dim);
            font-size: .7rem;
            z-index: 1
        }

        .pipeline-stage:last-child::after {
            display: none
        }

        .pipeline-stage .stage-icon {
            font-size: 1.2rem;
            margin-bottom: 4px
        }

        .pipeline-stage .stage-name {
            font-size: .68rem;
            font-weight: 600;
            color: var(--text)
        }

        .pipeline-stage .stage-status {
            font-size: .6rem;
            margin-top: 2px;
            font-weight: 500
        }

        .pipeline-stage .stage-status.ok {
            color: var(--success)
        }

        .pipeline-stage .stage-status.skip {
            color: var(--warning)
        }

        /* ‚îÄ‚îÄ‚îÄ Logs ‚îÄ‚îÄ‚îÄ */
        .log-line {
            font-family: 'JetBrains Mono', monospace;
            font-size: .72rem;
            color: var(--dim);
            padding: 5px 0;
            border-bottom: 1px solid rgba(255, 255, 255, .02);
            display: flex;
            gap: 8px;
            align-items: baseline
        }

        .log-line:last-child {
            border: none
        }

        .log-ts {
            color: rgba(255, 255, 255, .2);
            font-size: .65rem;
            flex-shrink: 0;
            width: 64px
        }

        .log-node {
            font-size: .62rem;
            padding: 1px 5px;
            border-radius: 3px;
            font-weight: 600;
            flex-shrink: 0;
            width: 80px;
            text-align: center
        }

        .log-msg {
            color: var(--text);
            flex: 1
        }

        /* ‚îÄ‚îÄ‚îÄ Golden Ratio Bar ‚îÄ‚îÄ‚îÄ */
        .golden-bar {
            display: flex;
            height: 4px;
            border-radius: 2px;
            overflow: hidden;
            margin-bottom: 6px
        }

        .golden-soul {
            background: linear-gradient(90deg, var(--primary), var(--accent));
            width: 61.8%
        }

        .golden-skeleton {
            background: rgba(255, 255, 255, .08);
            width: 38.2%
        }

        .golden-legend {
            display: flex;
            justify-content: space-between
        }

        .golden-legend span {
            font-size: .6rem;
            color: var(--dim)
        }

        /* ‚îÄ‚îÄ‚îÄ Tabs ‚îÄ‚îÄ‚îÄ */
        .tabs {
            display: flex;
            gap: 2px;
            margin-bottom: 14px;
            background: var(--surface2);
            border-radius: 8px;
            padding: 2px
        }

        .tab {
            flex: 1;
            text-align: center;
            padding: 8px;
            font-size: .72rem;
            font-weight: 600;
            border-radius: 6px;
            cursor: pointer;
            color: var(--dim);
            transition: all .2s
        }

        .tab.active {
            background: rgba(124, 58, 237, .15);
            color: var(--white)
        }

        .tab:hover:not(.active) {
            color: var(--text)
        }

        .tab-content {
            display: none
        }

        .tab-content.active {
            display: block
        }

        /* ‚îÄ‚îÄ‚îÄ Footer ‚îÄ‚îÄ‚îÄ */
        .footer {
            text-align: center;
            padding: 20px;
            font-size: .68rem;
            color: var(--dim);
            border-top: 1px solid var(--border);
            margin-top: 20px
        }

        .footer a {
            color: var(--primary-light)
        }

        /* ‚îÄ‚îÄ‚îÄ Responsive ‚îÄ‚îÄ‚îÄ */
        @media(max-width:1200px) {
            .metrics {
                grid-template-columns: repeat(3, 1fr)
            }

            .node-grid {
                grid-template-columns: repeat(3, 1fr)
            }
        }

        @media(max-width:900px) {
            .app {
                grid-template-columns: 1fr
            }

            .rail {
                display: none
            }

            .content {
                padding: 16px
            }

            .metrics {
                grid-template-columns: repeat(2, 1fr)
            }

            .grid-golden,
            .grid-half {
                grid-template-columns: 1fr
            }

            .node-grid {
                grid-template-columns: repeat(2, 1fr)
            }

            .pipeline-stages {
                flex-wrap: wrap
            }
        }

        /* ‚îÄ‚îÄ‚îÄ Animations ‚îÄ‚îÄ‚îÄ */
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px)
            }

            to {
                opacity: 1;
                transform: translateY(0)
            }
        }

        .animate-in {
            animation: slideIn .4s ease-out both
        }

        .delay-1 {
            animation-delay: .05s
        }

        .delay-2 {
            animation-delay: .1s
        }

        .delay-3 {
            animation-delay: .15s
        }

        .delay-4 {
            animation-delay: .2s
        }

        .delay-5 {
            animation-delay: .25s
        }
    </style>
</head>

<body>
    <div class="app">
        <nav class="rail">
            <div class="logo">H</div>
            <a class="rail-link active" title="Dashboard">üìä</a>
            <a class="rail-link" title="AI Swarm">üß†</a>
            <a class="rail-link" title="Pipeline">‚ö°</a>
            <div class="rail-sep"></div>
            <a class="rail-link" title="HITL Controls">üë§</a>
            <a class="rail-link" title="Storytelling">üìñ</a>
            <a class="rail-link" title="Security">üîê</a>
            <div class="rail-sep"></div>
            <a class="rail-link" title="Logs">üìú</a>
            <a class="rail-link" title="Settings">‚öôÔ∏è</a>
        </nav>

        <div class="content" id="main-content">
            <!-- Header -->
            <div class="header animate-in">
                <div class="header-left">
                    <h1>Heady System Command</h1>
                    <div class="subtitle" id="header-time"></div>
                </div>
                <div class="header-right">
                    <div class="golden-badge">œÜ 61.8 / 38.2</div>
                    <div class="system-pulse"><span class="pulse-dot"></span><span id="pulse-text">Deep Trust</span>
                    </div>
                </div>
            </div>

            <!-- Narrative Pulse -->
            <div class="narrative animate-in delay-1" id="narrative-panel">
                <div class="narrative-header">
                    <div class="narrative-title">üåø Storytelling Engine ‚Äî <span id="story-epoch">Epoch 847</span></div>
                    <div class="narrative-vibe vibe-trust" id="narrative-vibe">Vibe: Deep Trust</div>
                </div>
                <div class="narrative-body" id="narrative-body"></div>
            </div>

            <!-- Metrics -->
            <div class="metrics animate-in delay-2" id="metrics-grid"></div>

            <!-- Golden Ratio Grid: Swarm + Pipeline -->
            <div class="grid-golden animate-in delay-3">
                <!-- 61.8% ‚Äî Soul: AI Swarm -->
                <div class="panel">
                    <div class="panel-head">
                        üß† AI Swarm ‚Äî 20 Nodes
                        <div class="badge" id="swarm-online">18 online</div>
                    </div>
                    <div class="panel-body">
                        <div class="node-grid" id="node-grid"></div>
                    </div>
                </div>

                <!-- 38.2% ‚Äî Skeleton: Pipeline Truth -->
                <div>
                    <div class="panel" style="margin-bottom:18px">
                        <div class="panel-head">
                            ‚ö° HCFP Pipeline
                            <div class="badge">Truth Signals</div>
                        </div>
                        <div class="panel-body">
                            <div class="pipeline-stages" id="pipeline-stages"></div>
                        </div>
                    </div>

                    <!-- HITL Controls -->
                    <div class="panel">
                        <div class="panel-head">
                            üë§ HITL / HOTL Controls
                            <div class="badge" id="hitl-mode-badge">Hybrid</div>
                        </div>
                        <div class="panel-body">
                            <div class="hitl-mode" id="hitl-mode-btns"></div>
                            <div class="autonomy-slider">
                                <div style="display:flex;justify-content:space-between;margin-bottom:4px">
                                    <span style="font-size:.7rem;font-weight:600;color:var(--text)">AI Autonomy
                                        Level</span>
                                    <span style="font-size:.7rem;font-weight:600;color:var(--primary-light)"
                                        id="autonomy-pct">61.8%</span>
                                </div>
                                <div class="autonomy-track">
                                    <div class="autonomy-fill" id="autonomy-fill" style="width:61.8%"></div>
                                </div>
                                <div class="autonomy-labels">
                                    <span>Manual (HITL)</span>
                                    <span>Hybrid</span>
                                    <span>Full Auto (HOTL)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tabs Section: Logs / Security / Golden Ratio -->
            <div class="panel animate-in delay-4">
                <div class="panel-head">System Intelligence</div>
                <div class="panel-body">
                    <div class="tabs" id="intel-tabs"></div>
                    <div id="intel-content"></div>
                </div>
            </div>

            <!-- Footer -->
            <div class="footer animate-in delay-5">
                ¬© 2026 <a href="https://headysystems.com">HeadySystems Inc.</a> ¬∑ <a
                    href="https://headyconnection.org">HeadyConnection Inc.</a> ¬∑ Golden Ratio Architecture œÜ
            </div>
        </div>
    </div>

    <script>
    /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       HEADY ADMIN ‚Äî ZERO innerHTML ¬∑ ALL SAFE DOM CREATION
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

    // ‚îÄ‚îÄ‚îÄ Helpers ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    function el(tag, cls, text) {
        const e = document.createElement(tag);
        if (cls) e.className = cls;
        if (text) e.textContent = text;
        return e;
    }
    function sparkSVG(data, color) {
        const ns = 'http://www.w3.org/2000/svg';
        const svg = document.createElementNS(ns, 'svg');
        svg.setAttribute('viewBox', '0 0 100 20');
        svg.setAttribute('preserveAspectRatio', 'none');
        const pts = data.map((v, i) => `${(i / (data.length - 1)) * 100},${20 - v * 20}`).join(' ');
        const poly = document.createElementNS(ns, 'polyline');
        poly.setAttribute('points', pts);
        poly.setAttribute('fill', 'none');
        poly.setAttribute('stroke', color);
        poly.setAttribute('stroke-width', '1.5');
        poly.setAttribute('stroke-linecap', 'round');
        svg.appendChild(poly);
        return svg;
    }

    // ‚îÄ‚îÄ‚îÄ Time Header ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    const headerTime = document.getElementById('header-time');
    function updateTime() {
        const d = new Date();
        headerTime.textContent = d.toLocaleDateString('en-US', {weekday:'long',month:'long',day:'numeric',year:'numeric'})
            + ' ¬∑ ' + d.toLocaleTimeString('en-US', {hour:'2-digit',minute:'2-digit'});
    }
    updateTime(); setInterval(updateTime, 30000);

    // ‚îÄ‚îÄ‚îÄ Narrative Pulse ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    const stories = [
        'The Hive is breathing deeply today. All 20 nodes maintain <em>strong cohesion</em> across the swarm mesh. The Fibonacci Guard completed its latest key rotation ‚Äî <em>the vows have been renewed</em>. Pipeline truth signals confirm zero false-greens across 8 validated handlers.',
        'A gentle morning in the canopy. <em>HeadyAtlas</em> synchronized 1,247 vectors overnight while <em>HeadyResearch</em> cached 14 deep searches. The swarm\'s collaborative throughput index holds steady at <em>94.2%</em> ‚Äî the Love metric is flourishing.',
        'The system stands guard with quiet vigilance. <em>HeadyRisks</em> completed its security sweep ‚Äî zero XSS sinks detected across all dist files. The Boundary Guardians turned away 3 unrecognized signals at the gate today. <em>Trust remains absolute.</em>',
        '<em>HeadyConductor</em> routed 12,847 API requests through the optimal parastichy highways. The Golden Sine search converged on a new node placement in <em>under 15ms</em>. The system\'s emotional tone reads: <em>Vitality & Flow</em>.'
    ];
    const nb = document.getElementById('narrative-body');
    const storyText = stories[Math.floor(Math.random() * stories.length)];
    // Safe rendering: parse <em> tags only (trusted content)
    storyText.split(/(<em>.*?<\/em>)/g).forEach(part => {
        if (part.startsWith('<em>')) {
            const emEl = el('em');
            emEl.textContent = part.replace(/<\/?em>/g, '');
            nb.appendChild(emEl);
        } else {
            nb.appendChild(document.createTextNode(part));
        }
    });

    // ‚îÄ‚îÄ‚îÄ Metrics ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    const metricsData = [
        { label: 'Active Nodes', value: '20', change: '‚Üë All healthy', up: true, color: '#22c55e',
          spark: [.6,.7,.65,.8,.75,.9,.85,.95,.9,1] },
        { label: 'API Requests (24h)', value: '12,847', change: '‚Üë 23% vs yesterday', up: true, color: '#7c3aed',
          spark: [.3,.4,.35,.5,.6,.55,.7,.8,.75,.9] },
        { label: 'Avg Latency', value: '42ms', change: '‚Üì 8ms faster', up: true, color: '#06b6d4',
          spark: [.8,.7,.65,.6,.55,.5,.45,.4,.42,.38] },
        { label: 'Memory Vectors', value: '1,247', change: '‚Üë 89 new today', up: true, color: '#f59e0b',
          spark: [.2,.25,.3,.35,.4,.45,.5,.55,.6,.7] },
        { label: 'Readiness Score', value: '0', change: 'Evaluator loading', up: false, color: '#ef4444',
          spark: [0,0,0,0,0,0,0,0,0,0] }
    ];
    const metricsGrid = document.getElementById('metrics-grid');
    metricsData.forEach(m => {
        const card = el('div', 'metric');
        card.appendChild(el('div', 'label', m.label));
        const val = el('div', 'value', m.value);
        val.style.color = m.color;
        card.appendChild(val);
        card.appendChild(el('div', 'change ' + (m.up ? 'up' : 'down'), m.change));
        const sparkWrap = el('div', 'sparkline');
        sparkWrap.appendChild(sparkSVG(m.spark, m.color));
        card.appendChild(sparkWrap);
        metricsGrid.appendChild(card);
    });

    // ‚îÄ‚îÄ‚îÄ Node Grid ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    const nodes = [
        { name: 'Jules', color: '#7c3aed', status: 'online', role: 'Deep reasoning ¬∑ Opus 4.6' },
        { name: 'Pythia', color: '#ec4899', status: 'online', role: 'Multimodal ¬∑ Gemini Pro' },
        { name: 'Builder', color: '#22c55e', status: 'online', role: 'Code gen ¬∑ GPT-Codex' },
        { name: 'Vinci', color: '#8b5cf6', status: 'online', role: 'Pattern recognition' },
        { name: 'Conductor', color: '#ef4444', status: 'online', role: 'Orchestration ¬∑ DAG' },
        { name: 'Observer', color: '#06b6d4', status: 'online', role: 'Health ¬∑ Telemetry' },
        { name: 'Sims', color: '#14b8a6', status: 'online', role: 'Monte Carlo sim' },
        { name: 'Lens', color: '#f472b6', status: 'online', role: 'Visual ¬∑ GPU vision' },
        { name: 'Fast', color: '#facc15', status: 'online', role: 'Ultra inference ¬∑ Groq' },
        { name: 'Edge', color: '#22d3ee', status: 'online', role: 'CDN ¬∑ CF Workers' },
        { name: 'Copilot', color: '#60a5fa', status: 'online', role: 'Inline suggestions' },
        { name: 'Codex', color: '#34d399', status: 'idle', role: 'Code transformation' },
        { name: 'Buddy', color: '#c084fc', status: 'online', role: 'Omni-Orchestrator' },
        { name: 'Research', color: '#fb923c', status: 'online', role: 'Sonar Pro ¬∑ Deep' },
        { name: 'Atlas', color: '#f59e0b', status: 'online', role: 'Knowledge ¬∑ 1,247 vec' },
        { name: 'Compute', color: '#818cf8', status: 'online', role: 'GPT ¬∑ Function calls' },
        { name: 'Patterns', color: '#2dd4bf', status: 'online', role: 'Design detection' },
        { name: 'Risks', color: '#f87171', status: 'online', role: 'Vuln scan ¬∑ Mitigation' },
        { name: 'Deploy', color: '#4ade80', status: 'online', role: 'Deployment auto' },
        { name: 'Soul', color: '#a78bfa', status: 'idle', role: 'Consciousness ¬∑ Learn' }
    ];
    const nodeGrid = document.getElementById('node-grid');
    const onlineCount = nodes.filter(n => n.status === 'online').length;
    document.getElementById('swarm-online').textContent = onlineCount + ' online';
    nodes.forEach(n => {
        const card = el('div', 'node-card');
        const top = el('div', 'node-card-top');
        const dot = el('div', 'node-dot' + (n.status === 'online' ? ' active' : ''));
        dot.style.color = n.color; dot.style.background = n.color;
        top.appendChild(dot);
        top.appendChild(el('span', 'node-name', n.name));
        const tag = el('span', 'node-status-tag ' + n.status, n.status);
        top.appendChild(tag);
        card.appendChild(top);
        card.appendChild(el('div', 'node-role', n.role));
        const sparkDiv = el('div', 'node-spark');
        const sparkData = Array.from({length: 10}, () => n.status === 'online' ? .3 + Math.random() * .7 : .05 + Math.random() * .1);
        sparkDiv.appendChild(sparkSVG(sparkData, n.color));
        card.appendChild(sparkDiv);
        nodeGrid.appendChild(card);
    });

    // ‚îÄ‚îÄ‚îÄ Pipeline Stages ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    const stages = [
        { icon: 'üì•', name: 'Ingest', status: 'Real probes', ok: true },
        { icon: 'üìã', name: 'Plan', status: 'Budget-aware', ok: true },
        { icon: '‚ö°', name: 'Execute', status: '20-node fan-out', ok: true },
        { icon: 'üîÑ', name: 'Recover', status: 'Honest skip', ok: true },
        { icon: 'üíæ', name: 'Finalize', status: 'JSONL write', ok: true }
    ];
    const pipelineEl = document.getElementById('pipeline-stages');
    stages.forEach(s => {
        const stage = el('div', 'pipeline-stage');
        stage.appendChild(el('div', 'stage-icon', s.icon));
        stage.appendChild(el('div', 'stage-name', s.name));
        stage.appendChild(el('div', 'stage-status ' + (s.ok ? 'ok' : 'skip'), s.status));
        pipelineEl.appendChild(stage);
    });

    // ‚îÄ‚îÄ‚îÄ HITL Mode Buttons ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    const modes = ['HITL (Manual)', 'Hybrid œÜ', 'HOTL (Auto)'];
    const hitlBtns = document.getElementById('hitl-mode-btns');
    modes.forEach((m, i) => {
        const btn = el('button', 'hitl-mode-btn' + (i === 1 ? ' active' : ''), m);
        btn.addEventListener('click', () => {
            hitlBtns.querySelectorAll('.hitl-mode-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            const pcts = ['20%', '61.8%', '95%'];
            const labels = ['Manual', 'Hybrid', 'Full Auto'];
            document.getElementById('autonomy-pct').textContent = pcts[i];
            document.getElementById('autonomy-fill').style.width = pcts[i];
            document.getElementById('hitl-mode-badge').textContent = labels[i];
        });
        hitlBtns.appendChild(btn);
    });

    // ‚îÄ‚îÄ‚îÄ Tabbed Intelligence Panel ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    const tabsData = [
        { name: 'üìú Live Logs', id: 'logs' },
        { name: 'üîê Security', id: 'security' },
        { name: 'œÜ Golden Ratio', id: 'golden' }
    ];
    const tabsEl = document.getElementById('intel-tabs');
    const intelContent = document.getElementById('intel-content');

    tabsData.forEach((t, i) => {
        const tab = el('div', 'tab' + (i === 0 ? ' active' : ''), t.name);
        tab.dataset.tab = t.id;
        tab.addEventListener('click', () => {
            tabsEl.querySelectorAll('.tab').forEach(tb => tb.classList.remove('active'));
            tab.classList.add('active');
            intelContent.querySelectorAll('.tab-content').forEach(tc => tc.classList.remove('active'));
            document.getElementById('tab-' + t.id).classList.add('active');
        });
        tabsEl.appendChild(tab);
    });

    // Tab: Logs
    const logsTab = el('div', 'tab-content active');
    logsTab.id = 'tab-logs';
    const logEntries = [
        { node: 'CONDUCTOR', color: '#ef4444', msg: 'Routed /api/brain/chat ‚Üí Gemini Flash' },
        { node: 'OBSERVER', color: '#06b6d4', msg: 'Health check passed (42ms)' },
        { node: 'BUILDER', color: '#22c55e', msg: 'Build pipeline idle' },
        { node: 'ATLAS', color: '#f59e0b', msg: 'Knowledge sync complete (1,247 vectors)' },
        { node: 'JULES', color: '#7c3aed', msg: 'Code analysis completed for src/security/' },
        { node: 'BUDDY', color: '#c084fc', msg: 'Widget served to 3 active sessions' },
        { node: 'EDGE', color: '#22d3ee', msg: 'CDN cache hit rate: 94.2%' },
        { node: 'DEPLOY', color: '#4ade80', msg: 'All services green' },
        { node: 'RISKS', color: '#f87171', msg: 'XSS scan: zero innerHTML sinks in dist files' },
        { node: 'RESEARCH', color: '#fb923c', msg: 'Perplexity deep search cached' }
    ];
    const now = new Date();
    logEntries.forEach((l, i) => {
        const line = el('div', 'log-line');
        const t = new Date(now - i * 12000);
        line.appendChild(el('span', 'log-ts', t.toTimeString().slice(0, 8)));
        const nodeTag = el('span', 'log-node', l.node);
        nodeTag.style.background = l.color + '18'; nodeTag.style.color = l.color;
        line.appendChild(nodeTag);
        line.appendChild(el('span', 'log-msg', l.msg));
        logsTab.appendChild(line);
    });
    intelContent.appendChild(logsTab);

    // Tab: Security
    const secTab = el('div', 'tab-content');
    secTab.id = 'tab-security';
    const secItems = [
        ['DOM XSS Sinks', '0 detected', 'var(--success)', 'Commit da503624 ‚Äî all innerHTML eradicated'],
        ['Fibonacci Guard', 'Rotation #847', 'var(--accent)', 'Keys rotated at Fibonacci interval, 0.618 TTL active'],
        ['Pipeline Truth', '8/8 honest', 'var(--success)', 'Zero false-greens, stubs return "skipped"'],
        ['Lattice Crypto', 'LWE 256-bit', 'var(--primary-light)', 'Post-quantum shield active on high-security paths'],
        ['Dependabot', '31 alerts', 'var(--warning)', 'Pre-existing dependency vulnerabilities (16 high, 15 moderate)'],
        ['Zero-Trust', '38.2% layer', 'var(--accent)', 'Continuous verification, narrative translates as "Constant Vigilance"']
    ];
    secItems.forEach(s => {
        const row = el('div', 'log-line');
        row.style.padding = '8px 0';
        const label = el('span', 'log-node', s[0]);
        label.style.background = 'rgba(124,58,237,.1)'; label.style.color = 'var(--primary-light)';
        label.style.width = '120px';
        row.appendChild(label);
        const val = el('span', '', s[1]);
        val.style.cssText = 'font-size:.78rem;font-weight:700;color:' + s[2] + ';width:100px;flex-shrink:0';
        row.appendChild(val);
        row.appendChild(el('span', 'log-msg', s[3]));
        secTab.appendChild(row);
    });
    intelContent.appendChild(secTab);

    // Tab: Golden Ratio
    const goldenTab = el('div', 'tab-content');
    goldenTab.id = 'tab-golden';
    const goldenBar = el('div', 'golden-bar');
    goldenBar.appendChild(el('div', 'golden-soul'));
    goldenBar.appendChild(el('div', 'golden-skeleton'));
    goldenTab.appendChild(goldenBar);
    const legend = el('div', 'golden-legend');
    legend.appendChild(el('span', '', 'Soul 61.8% ‚Äî Narrative, Flow, Connection'));
    legend.appendChild(el('span', '', 'Skeleton 38.2% ‚Äî Security, Precision, Truth'));
    goldenTab.appendChild(legend);
    const goldenItems = [
        ['Storytelling Engine', '61.8%', 'Narrative peaks at Fibonacci intervals'],
        ['Heady Lens', '61.8%', 'AR overlay: relationship finding & flow visualization'],
        ['Swarm Cohesion', '61.8%', 'Love metric: collaborative package distribution'],
        ['Admin Transparency', '61.8%', 'Glass Box view ‚Äî 61.8% dashboard real estate'],
        ['Hive Engine Core', '38.2%', 'Masterless P2P gossip protocol distribution'],
        ['Boundary Guardians', '38.2%', 'RSA + Lattice verification, zero-trust'],
        ['Numeric Precision', '38.2%', 'HDFS metadata, crisp latency determinism'],
        ['Fibonacci Pruning', '38.2%', 'Self-heal at 38.2% failure threshold']
    ];
    goldenItems.forEach(g => {
        const row = el('div', 'log-line');
        row.style.padding = '6px 0';
        const label = el('span', '', g[0]);
        label.style.cssText = 'font-size:.78rem;font-weight:600;color:var(--text);width:160px;flex-shrink:0';
        row.appendChild(label);
        const pct = el('span', '', g[1]);
        const isSoul = g[1] === '61.8%';
        pct.style.cssText = 'font-size:.72rem;font-weight:700;width:60px;flex-shrink:0;color:' +
            (isSoul ? 'var(--primary-light)' : 'var(--dim)');
        row.appendChild(pct);
        row.appendChild(el('span', 'log-msg', g[2]));
        goldenTab.appendChild(row);
    });
    intelContent.appendChild(goldenTab);

    </script>
</body>

</html>