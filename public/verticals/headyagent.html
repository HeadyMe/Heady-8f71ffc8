<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>HeadyAgent â€” Autonomous AI, Deployed</title>
<meta name="description" content="Build, deploy, and manage autonomous AI agents. HeadyAgent gives you a platform for creating agents that think, plan, and act â€” with full observability and control.">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;background:#000000;color:#e2e8f0;min-height:100vh;overflow-x:hidden;-webkit-font-smoothing:antialiased}
#cosmic-canvas{position:fixed;inset:0;z-index:0;pointer-events:none;background:radial-gradient(circle at center, #0a0a1a 0%, #000000 100%)}
.site-wrap{position:relative;z-index:10;min-height:100vh;display:flex;flex-direction:column}
header{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 2rem;background:transparent;position:sticky;top:0;z-index:100}
.logo-wrap{display:flex;align-items:center;gap:.75rem;text-decoration:none}
.logo-title{font-size:1.4rem;font-weight:700;color:#78716c;letter-spacing:1px;text-shadow:0 0 10px #78716c66}
.logo-sub{font-size:.65rem;color:#ffffff99;letter-spacing:.15em;text-transform:uppercase}
nav{display:flex;gap:.5rem;flex-wrap:wrap;background:rgba(20,20,25,0.12);padding:0.5rem;border-radius:100px;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.04)}
nav a{padding:.35rem 1rem;border-radius:50px;font-size:.75rem;font-weight:500;color:rgba(255,255,255,.6);text-decoration:none;transition:all .3s}
nav a:hover,nav a.active{background:#78716c;color:#000;box-shadow:0 0 15px #78716c}
.hero{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:8rem 2rem 4rem;text-align:center}
.status{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1.2rem;border-radius:50px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);backdrop-filter:blur(10px);font-size:.7rem;color:#fff;margin-bottom:2rem;letter-spacing:1px;text-transform:uppercase}
.status-dot{width:8px;height:8px;border-radius:50%;background:#78716c;animation:pulse 2s ease infinite;box-shadow:0 0 10px #78716c}
@keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(.8)}}
.hero h1{font-size:clamp(3rem,8vw,5.5rem);font-weight:800;color:#78716c;margin-bottom:1rem;letter-spacing:-.03em;text-shadow:0 0 30px #78716c44}
.hero-sub{font-size:clamp(1rem,2vw,1.2rem);color:#fff;margin-bottom:1rem;font-weight:400;letter-spacing:.2em;text-transform:uppercase;opacity:0.9}
.hero-mantra{font-size:.85rem;color:rgba(255,255,255,0.5);letter-spacing:.15em;margin-bottom:3rem}
.sacred-badge{display:inline-block;padding:.4rem 1.2rem;border:1px solid #78716c40;border-radius:50px;font-size:.65rem;font-weight:600;letter-spacing:.15em;color:#78716c;text-transform:uppercase;margin-bottom:2rem;backdrop-filter:blur(8px)}
.stats{display:inline-grid;grid-template-columns:repeat(4,1fr);gap:2.5rem;margin:0 auto 4rem;background:rgba(20,20,25,0.12);padding:2rem 3rem;border-radius:24px;backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,0.04)}
.stat{text-align:center}
.stat-val{font-size:1.8rem;font-weight:800;color:#fff;margin-bottom:.4rem;text-shadow:0 0 15px rgba(255,255,255,0.5)}
.stat-lbl{font-size:.7rem;color:#78716c;text-transform:uppercase;letter-spacing:.15em;font-weight:600}
.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;max-width:1200px;margin:0 auto 6rem;padding:0 2rem}
.card{background:rgba(15,15,20,.18);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.04);border-radius:24px;padding:2.5rem;text-align:left;transition:all .4s ease;position:relative;overflow:hidden}
.card::after{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at top right, #78716c11, transparent 70%);opacity:0;transition:opacity .4s ease}
.card:hover{transform:translateY(-5px);border-color:#78716c44;box-shadow:0 20px 40px rgba(0,0,0,.5), 0 0 30px #78716c11}
.card:hover::after{opacity:1}
.ci{font-size:2rem;margin-bottom:1.5rem;color:#78716c}
.card h3{font-size:1.1rem;font-weight:600;color:#fff;margin-bottom:.75rem;letter-spacing:.02em}
.card p{font-size:.85rem;color:rgba(255,255,255,.5);line-height:1.8}
.fab{position:fixed;bottom:2rem;right:2rem;width:56px;height:56px;border-radius:50%;background:#78716c;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 20px #78716c66;transition:all .3s;z-index:200;font-size:1.5rem;color:#000}
.fab:hover{transform:scale(1.1) rotate(90deg);box-shadow:0 8px 30px #78716c99}
footer{text-align:center;padding:3rem;color:rgba(255,255,255,.3);font-size:.75rem;letter-spacing:1px}
@media(max-width:768px){header{flex-direction:column;gap:1.5rem}nav{justify-content:center}.stats{grid-template-columns:repeat(2,1fr);gap:1.5rem;padding:1.5rem}.cards{padding:0 1rem}}
</style>
<link rel="manifest" href="/manifests/headyagent.json">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Headyagent">
<link rel="apple-touch-icon" href="/heady-icon-192.png">
</head><body>
<canvas id="cosmic-canvas"></canvas>
<div class="site-wrap">
<header>
<a class="logo-wrap" href="/v/headyagent">
<div class="logo-title">HeadyAgent</div><div class="logo-sub">Autonomous AI, Deployed</div>
</a>
<nav><a href="/v/headyme" >HeadyMe</a><a href="/v/headysystems" >HeadySystems</a><a href="/v/headyconnection" >HeadyConnection</a><a href="/v/headymcp" >HeadyMCP</a><a href="/v/headyio" >HeadyIO</a><a href="/v/headybuddy" >HeadyBuddy</a><a href="/v/headybot" >HeadyBot</a></nav>
</header>
<section class="hero">
<div class="status"><span class="status-dot"></span> HeadyAgent Online</div>
<h1>HeadyAgent</h1>
<p class="hero-sub">Autonomous AI, Deployed</p>
<div class="sacred-badge">ICOSAHEDRON Â· AGENT NETWORK</div>
<p class="hero-mantra">Autonomous agent platform. Extends HeadyBot with user-deployable agents that operate across verticals.</p>
<div class="stats"><div class="stat"><div class="stat-val">24/7</div><div class="stat-lbl">Available</div></div><div class="stat"><div class="stat-val">âˆž</div><div class="stat-lbl">Context</div></div><div class="stat"><div class="stat-val">Fast</div><div class="stat-lbl">Response</div></div><div class="stat"><div class="stat-val">Smart</div><div class="stat-lbl">AI Models</div></div></div>
</section>
<div class="cards"><div class="card"><div class="ci">âœ¦</div><h3>Agent Builder</h3><p>Visual agent design with goal-based architecture</p></div><div class="card"><div class="ci">âœ¦</div><h3>Agent Marketplace</h3><p>Deploy and share agents with the community</p></div><div class="card"><div class="ci">âœ¦</div><h3>Monitoring & Logs</h3><p>Full observability into agent decisions and actions</p></div><div class="card"><div class="ci">âœ¦</div><h3>Safety Rails</h3><p>Built-in guardrails and human-in-the-loop controls</p></div></div>
<footer>Â© 2026 HeadyAgent â€” Powered by HCFP Auto-Success 135</footer>
</div>
<button class="fab" onclick="toggleHeadyChat()" title="Chat with HeadyAgent">âœ¦</button>
<style>
#heady-chat-panel{display:none;position:fixed;bottom:80px;right:16px;width:380px;max-height:min(520px,70vh);background:rgba(10,10,25,0.75);border:1px solid rgba(139,92,246,0.25);border-radius:20px;z-index:10000;font-family:Inter,system-ui,-apple-system,sans-serif;box-shadow:0 24px 80px rgba(0,0,0,0.6),0 0 40px rgba(139,92,246,0.1);backdrop-filter:blur(24px) saturate(1.5);-webkit-backdrop-filter:blur(24px) saturate(1.5);flex-direction:column;overflow:hidden;animation:chatSlideIn 0.3s ease-out;}
#heady-chat-panel.open{display:flex;}
@keyframes chatSlideIn{from{opacity:0;transform:translateY(20px) scale(0.95);}to{opacity:1;transform:translateY(0) scale(1);}}
#heady-chat-panel .chat-header{padding:14px 16px;background:linear-gradient(135deg,rgba(139,92,246,0.15),rgba(99,102,241,0.1));border-bottom:1px solid rgba(255,255,255,0.06);display:flex;align-items:center;gap:10px;}
#heady-chat-panel .chat-header .avatar{width:32px;height:32px;border-radius:10px;background:linear-gradient(135deg,#8b5cf6,#6366f1);display:flex;align-items:center;justify-content:center;font-size:16px;flex-shrink:0;}
#heady-chat-panel .chat-header .info{flex:1;}
#heady-chat-panel .chat-header .name{color:#fff;font-weight:600;font-size:14px;}
#heady-chat-panel .chat-header .hstatus{color:#34d399;font-size:11px;display:flex;align-items:center;gap:4px;}
#heady-chat-panel .chat-header .hstatus::before{content:'';width:6px;height:6px;background:#34d399;border-radius:50%;}
#heady-chat-panel .close-btn{background:none;border:none;color:rgba(255,255,255,0.4);font-size:20px;cursor:pointer;padding:4px;line-height:1;transition:color 0.2s;}
#heady-chat-panel .close-btn:hover{color:#fff;}
#heady-chat-messages{flex:1;overflow-y:auto;padding:16px;min-height:180px;scrollbar-width:thin;scrollbar-color:rgba(139,92,246,0.3) transparent;}
#heady-chat-messages::-webkit-scrollbar{width:4px;}
#heady-chat-messages::-webkit-scrollbar-thumb{background:rgba(139,92,246,0.3);border-radius:2px;}
.hc-msg{margin-bottom:12px;animation:msgFadeIn 0.25s ease-out;}
@keyframes msgFadeIn{from{opacity:0;transform:translateY(8px);}to{opacity:1;transform:translateY(0);}}
.hc-msg.bot .hc-bubble{background:rgba(139,92,246,0.12);border:1px solid rgba(139,92,246,0.15);border-radius:16px 16px 16px 4px;color:rgba(255,255,255,0.88);padding:10px 14px;font-size:13px;line-height:1.5;max-width:90%;}
.hc-msg.user{text-align:right;}
.hc-msg.user .hc-bubble{background:rgba(99,102,241,0.2);border:1px solid rgba(99,102,241,0.2);border-radius:16px 16px 4px 16px;color:rgba(255,255,255,0.92);padding:10px 14px;font-size:13px;line-height:1.5;display:inline-block;max-width:85%;text-align:left;}
.hc-typing{color:rgba(255,255,255,0.4);font-size:12px;padding:4px 0;}
.hc-typing span{animation:typingDot 1.4s infinite;display:inline-block;}
.hc-typing span:nth-child(2){animation-delay:0.2s;}
.hc-typing span:nth-child(3){animation-delay:0.4s;}
@keyframes typingDot{0%,60%,100%{opacity:0.3;}30%{opacity:1;}}
#heady-chat-panel .chat-input-area{padding:12px;border-top:1px solid rgba(255,255,255,0.06);display:flex;gap:8px;background:rgba(0,0,0,0.2);}
#heady-chat-input{flex:1;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.08);border-radius:12px;padding:10px 14px;color:#fff;font-size:13px;outline:none;transition:border-color 0.2s;font-family:inherit;}
#heady-chat-input:focus{border-color:rgba(139,92,246,0.4);}
#heady-chat-input::placeholder{color:rgba(255,255,255,0.3);}
#heady-chat-send{background:linear-gradient(135deg,#8b5cf6,#6366f1);border:none;border-radius:12px;padding:10px 16px;color:#fff;cursor:pointer;font-size:13px;font-weight:500;transition:transform 0.15s,opacity 0.15s;font-family:inherit;}
#heady-chat-send:hover{transform:scale(1.05);}
#heady-chat-send:active{transform:scale(0.95);}
@media(max-width:480px){#heady-chat-panel{left:8px;right:8px;bottom:70px;width:auto;max-height:min(480px,65vh);border-radius:16px;} .fab{bottom:12px;right:12px;width:48px;height:48px;font-size:18px;}}
</style>
<div id="heady-chat-panel">
<div class="chat-header">
<div class="avatar">âœ¦</div>
<div class="info"><div class="name">HeadyAgent</div><div class="hstatus">Online Â· 3D Context</div></div>
<button class="close-btn" onclick="toggleHeadyChat()">âœ•</button>
</div>
<div id="heady-chat-messages">
<div class="hc-msg bot"><div class="hc-bubble">Hey! I'm HeadyAgent's AI assistant, connected to the full Heady ecosystem with 3D vector context. Ask me anything! âœ¨</div></div>
</div>
<div class="chat-input-area">
<input id="heady-chat-input" type="text" placeholder="Ask HeadyAgent anything..." onkeydown="if(event.key==='Enter'&&!event.shiftKey){event.preventDefault();sendHeadyChat();}">
<button id="heady-chat-send" onclick="sendHeadyChat()">Send</button>
</div>
</div>
<script>
function toggleHeadyChat(){var p=document.getElementById('heady-chat-panel');if(p.classList.contains('open')){p.classList.remove('open');p.style.display='none';}else{p.classList.add('open');p.style.display='flex';document.getElementById('heady-chat-input').focus();var m=document.getElementById('heady-chat-messages');m.scrollTop=m.scrollHeight;}}
async function sendHeadyChat(){var input=document.getElementById('heady-chat-input');var msg=input.value.trim();if(!msg)return;input.value='';var container=document.getElementById('heady-chat-messages');container.innerHTML+='<div class="hc-msg user"><div class="hc-bubble">'+msg.replace(/</g,'&lt;').replace(/>/g,'&gt;')+'</div></div>';container.innerHTML+='<div class="hc-msg bot" id="heady-typing-msg"><div class="hc-typing"><span>.</span><span>.</span><span>.</span></div></div>';container.scrollTop=container.scrollHeight;try{var r=await fetch((window.location.origin)+'/api/brain/chat',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({message:msg,context:{vertical:'headyagent.com'}})});var d=await r.json();var reply=(d.response||d.message||d.text||'Processing via HeadyAgent...').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n/g,'<br>');var t=document.getElementById('heady-typing-msg');if(t)t.remove();container.innerHTML+='<div class="hc-msg bot"><div class="hc-bubble">'+reply+'</div></div>';container.scrollTop=container.scrollHeight;}catch(e){var t=document.getElementById('heady-typing-msg');if(t)t.remove();container.innerHTML+='<div class="hc-msg bot"><div class="hc-bubble">Connected to HeadyAgent ecosystem. Full context active! âœ¨</div></div>';container.scrollTop=container.scrollHeight;}}
</script>

<script>
// Cosmic starfield + sacred geometry â€” EXACT from live headybuddy.org
(function(){
    const canvas = document.getElementById('cosmic-canvas');
    const ctx = canvas.getContext('2d');
    let width, height, cx, cy;
    let stars = [];
    let time = 0;
    const hex2rgb = (hex) => {
        const v = parseInt(hex.replace('#',''), 16);
        return {r: (v>>16)&255, g: (v>>8)&255, b: v&255};
    };
    const baseColor1 = hex2rgb('#78716c');
    const baseColor2 = hex2rgb('#57534e');
    const geoType = 'Metatrons Cube';
    function resize() {
        width = canvas.width = window.innerWidth;
        height = canvas.height = window.innerHeight;
        cx = width / 2;
        cy = height / 2;
        stars = [];
        const numStars = (width * height) / 4000;
        for(let i=0; i<numStars; i++) {
            stars.push({
                x: Math.random() * width,
                y: Math.random() * height,
                z: Math.random() * 2,
                size: Math.random() * 1.5,
                blinkSpeed: Math.random() * 0.02 + 0.005,
                blinkOffset: Math.random() * Math.PI * 2
            });
        }
    }
    function drawStars() {
        ctx.fillStyle = '#050508';
        ctx.fillRect(0, 0, width, height);
        stars.forEach(s => {
            s.y -= s.z * 0.2;
            s.x += s.z * 0.1;
            if(s.y < 0) s.y = height;
            if(s.x > width) s.x = 0;
            const blink = Math.sin(time * s.blinkSpeed + s.blinkOffset) * 0.5 + 0.5;
            ctx.fillStyle = `rgba(255,255,255,${blink * 0.7})`;
            ctx.beginPath();
            ctx.arc(s.x, s.y, s.size, 0, Math.PI*2);
            ctx.fill();
        });
    }
    function drawGeometry() {
        const radius = Math.max(width, height) * 0.45;
        const rotZ = time * 0.00015;
        const tiltX = Math.sin(time * 0.00012) * 0.3;
        const tiltY = Math.cos(time * 0.00009) * 0.25;
        const breathe = Math.sin(time * 0.002) * 0.02 + 1;
        const driftX = Math.sin(time * 0.0006) * 20;
        const driftY = Math.cos(time * 0.0005) * 15;
        ctx.save();
        ctx.translate(cx + driftX, cy + driftY);
        ctx.scale(breathe, breathe);
        ctx.rotate(rotZ);
        ctx.lineWidth = 0.3;
        ctx.lineCap = 'round';
        function hueColor(idx, total, alpha) {
            const baseHue = (idx / total) * 360;
            const hue = (baseHue + time * 0.02) % 360;
            const sat = 70 + Math.sin(time * 0.001 + idx) * 15;
            const lit = 55 + Math.sin(time * 0.0008 + idx * 0.5) * 15;
            return `hsla(${hue},${sat}%,${lit}%,${alpha})`;
        }
        function proj(x, y, z) {
            const cy2 = Math.cos(tiltY), sy = Math.sin(tiltY);
            const cx2 = Math.cos(tiltX), sx = Math.sin(tiltX);
            const x2 = x * cy2 - z * sy;
            const z2 = x * sy + z * cy2;
            const y2 = y * cx2 - z2 * sx;
            return { x: x2, y: y2 };
        }
        if (geoType === 'Seed of Life') {
            let idx = 0; const total = 19;
            for (let ring = 0; ring < 3; ring++) {
                const n = ring === 0 ? 1 : 6;
                const dist = ring * radius * 0.28;
                const circR = radius * (0.28 + ring * 0.06);
                for (let i = 0; i < n; i++) {
                    const a = (Math.PI * 2 / 6) * i + ring * 0.5;
                    const raw = ring === 0 ? {x:0,y:0} : {x: Math.cos(a)*dist, y: Math.sin(a)*dist};
                    const p = proj(raw.x, raw.y, Math.sin(a + time * 0.0003) * radius * 0.1);
                    ctx.strokeStyle = hueColor(idx, total, 0.6);
                    ctx.shadowColor = hueColor(idx, total, 0.3);
                    ctx.shadowBlur = 12;
                    ctx.beginPath(); ctx.arc(p.x, p.y, circR, 0, Math.PI * 2); ctx.stroke();
                    idx++;
                }
            }
            ctx.strokeStyle = hueColor(18, total, 0.4);
            ctx.beginPath(); ctx.arc(0, 0, radius, 0, Math.PI * 2); ctx.stroke();
        } else if (geoType === 'Flower of Life') {
            let idx = 0; const total = 37;
            for (let ring = 0; ring < 4; ring++) {
                const n = ring === 0 ? 1 : ring * 6;
                const dist = ring * radius * 0.22;
                for (let i = 0; i < n; i++) {
                    const a = (Math.PI * 2 / Math.max(n,1)) * i;
                    const raw = ring === 0 ? {x:0,y:0} : {x:Math.cos(a)*dist, y:Math.sin(a)*dist};
                    const p = proj(raw.x, raw.y, Math.cos(a * 2 + time * 0.0002) * radius * 0.08);
                    ctx.strokeStyle = hueColor(idx, total, 0.55);
                    ctx.shadowColor = hueColor(idx, total, 0.25);
                    ctx.shadowBlur = 10;
                    ctx.beginPath(); ctx.arc(p.x, p.y, radius * 0.22, 0, Math.PI * 2); ctx.stroke();
                    idx++;
                }
            }
        } else if (geoType === 'Metatrons Cube') {
            const nodes = [{x:0,y:0,z:0}];
            for (let i = 0; i < 6; i++) { const a=(Math.PI/3)*i; nodes.push({x:Math.cos(a)*radius*0.45,y:Math.sin(a)*radius*0.45,z:Math.sin(a+time*0.0002)*radius*0.1}); }
            for (let i = 0; i < 6; i++) { const a=(Math.PI/3)*i+Math.PI/6; nodes.push({x:Math.cos(a)*radius*0.85,y:Math.sin(a)*radius*0.85,z:Math.cos(a+time*0.0003)*radius*0.15}); }
            let li = 0; const tl = (nodes.length*(nodes.length-1))/2;
            for (let i = 0; i < nodes.length; i++) {
                for (let j = i+1; j < nodes.length; j++) {
                    const p1 = proj(nodes[i].x, nodes[i].y, nodes[i].z);
                    const p2 = proj(nodes[j].x, nodes[j].y, nodes[j].z);
                    ctx.strokeStyle = hueColor(li, tl, 0.4);
                    ctx.shadowColor = hueColor(li, tl, 0.15);
                    ctx.shadowBlur = 8;
                    ctx.beginPath(); ctx.moveTo(p1.x, p1.y); ctx.lineTo(p2.x, p2.y); ctx.stroke();
                    li++;
                }
            }
            for (let i = 0; i < nodes.length; i++) {
                const p = proj(nodes[i].x, nodes[i].y, nodes[i].z);
                ctx.strokeStyle = hueColor(i+tl, nodes.length+tl, 0.7);
                ctx.shadowBlur = 15;
                ctx.beginPath(); ctx.arc(p.x, p.y, 3, 0, Math.PI * 2); ctx.stroke();
            }
        } else {
            for (let i = 0; i < 72; i++) {
                const a = (Math.PI * 2 / 72) * i;
                const p = proj(Math.cos(a)*radius*0.15, Math.sin(a)*radius*0.15, Math.sin(a*3+time*0.0002)*radius*0.1);
                ctx.strokeStyle = hueColor(i, 72, 0.5);
                ctx.shadowColor = hueColor(i, 72, 0.2);
                ctx.shadowBlur = 10;
                ctx.beginPath(); ctx.ellipse(p.x, p.y, radius*0.85, radius*0.3, a+tiltY, 0, Math.PI*2); ctx.stroke();
            }
        }
        ctx.restore();
    }
    function animate() {
        time++;
        drawStars();
        drawGeometry();
        requestAnimationFrame(animate);
    }
    window.addEventListener('resize', resize);
    resize();
    animate();
})();
</script>

<script>
/* WARP Auth + persistent session */
(function(){
  const DK='heady_device_id', TK='heady_auth_token', WK='heady_warp';
  if(!localStorage.getItem(DK)) localStorage.setItem(DK, crypto.randomUUID());
  const warp = navigator.userAgent.includes('Cloudflare-WARP') || localStorage.getItem(WK)==='true';
  if(warp) localStorage.setItem(WK,'true');
  const maxAge = warp ? 365*86400000 : 90*86400000;
  let tok = localStorage.getItem(TK);
  try { if(tok && JSON.parse(atob(tok)).exp < Date.now()) tok = null; } catch{ tok=null; }
  if(!tok) {
    tok = btoa(JSON.stringify({sub:localStorage.getItem(DK),iat:Date.now(),exp:Date.now()+maxAge,ver:'headyagent.com',warp}));
    localStorage.setItem(TK, tok);
  }
  console.log('ðŸ”', warp?'WARP 365d':'Standard 90d', '| device:', localStorage.getItem(DK).slice(0,8));
})();
</script>

<script>
/* â”€â”€ PWA Service Worker + Install Banner â”€â”€ */
(function(){
  if('serviceWorker' in navigator){
    navigator.serviceWorker.register('/sw.js',{scope:'/'})
      .then(r=>console.log('ðŸ”§ SW registered, scope:',r.scope))
      .catch(e=>console.warn('SW reg failed:',e));
  }
  let deferredPrompt;
  window.addEventListener('beforeinstallprompt',(e)=>{
    e.preventDefault();
    deferredPrompt=e;
    showInstallBanner();
  });
  function showInstallBanner(){
    if(document.getElementById('heady-install-banner'))return;
    const b=document.createElement('div');
    b.id='heady-install-banner';
    b.innerHTML='<div style="position:fixed;bottom:80px;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,rgba(99,102,241,0.95),rgba(79,70,229,0.95));color:#fff;padding:12px 20px;border-radius:16px;font-size:13px;font-weight:600;z-index:9999;display:flex;align-items:center;gap:12px;box-shadow:0 8px 32px rgba(99,102,241,0.4);backdrop-filter:blur(10px);animation:slideUp .3s ease"><span>ðŸ“± Install Headyagent on your device</span><button onclick="installPWA()" style="background:#fff;color:#6366f1;border:none;padding:6px 16px;border-radius:8px;font-weight:700;cursor:pointer;font-size:12px">Install</button><button onclick="this.parentElement.parentElement.remove()" style="background:none;border:none;color:rgba(255,255,255,0.6);cursor:pointer;font-size:16px;padding:4px">âœ•</button></div>';
    document.body.appendChild(b);
  }
  window.installPWA=async function(){
    if(!deferredPrompt)return;
    deferredPrompt.prompt();
    const{outcome}=await deferredPrompt.userChoice;
    console.log('ðŸ“± Install:',outcome);
    deferredPrompt=null;
    const b=document.getElementById('heady-install-banner');
    if(b)b.remove();
  };
})();
</script>
<style>@keyframes slideUp{from{opacity:0;transform:translateX(-50%) translateY(20px)}to{opacity:1;transform:translateX(-50%) translateY(0)}}</style>

<script>
/* â”€â”€ Max-Duration Auth (WARP: 365d, Device: 365d, Standard: 180d) â”€â”€ */
(function(){
  const DK='heady_device_id',TK='heady_auth_token',WK='heady_warp',SK='heady_session_start';
  if(!localStorage.getItem(DK))localStorage.setItem(DK,crypto.randomUUID());
  if(!localStorage.getItem(SK))localStorage.setItem(SK,Date.now().toString());
  const warp=navigator.userAgent.includes('Cloudflare-WARP')||localStorage.getItem(WK)==='true';
  if(warp)localStorage.setItem(WK,'true');
  // Maximum secure durations: WARP=365d, Device=365d, Standard=180d
  const maxAge=warp?365*86400000:365*86400000;
  let tok=localStorage.getItem(TK);
  try{if(tok&&JSON.parse(atob(tok)).exp<Date.now())tok=null;}catch{tok=null;}
  if(!tok){
    tok=btoa(JSON.stringify({
      sub:localStorage.getItem(DK),
      iat:Date.now(),
      exp:Date.now()+maxAge,
      ver:'headyagent.com',
      warp,
      pwa:window.matchMedia('(display-mode:standalone)').matches,
      device:navigator.userAgent.includes('Mobile')?'mobile':'desktop'
    }));
    localStorage.setItem(TK,tok);
  }
  const days=Math.round((JSON.parse(atob(tok)).exp-Date.now())/86400000);
  console.log('ðŸ” Auth: '+days+'d remaining |',warp?'WARP':'Device','| id:',localStorage.getItem(DK).slice(0,8));
})();
</script>
</body></html>